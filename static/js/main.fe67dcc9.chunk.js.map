{"version":3,"sources":["logic/garden.js","component/Code.js","component/Heart.js","component/App.js","index.js"],"names":["Vector","x","y","this","Petal","stretchA","stretchB","startAngle","angle","growFactor","bloom","r","isfinished","Bloom","p","c","pc","garden","petals","init","addBloom","prototype","rotate","theta","Math","cos","sin","mult","f","clone","draw","v1","v2","v3","v4","ctx","Garden","degrad","strokeStyle","beginPath","moveTo","bezierCurveTo","stroke","render","save","translate","i","length","restore","removeBloom","randomInt","push","random","options","petalStretch","min","max","element","blooms","b","splice","createRandomBloom","createBloom","bloomRadius","randomrgba","color","rmin","rmax","gmin","gmax","bmin","bmax","opacity","petalCount","growSpeed","floor","circle","PI","raddeg","rgba","g","a","round","module","exports","Code","id","class","speed","Delay","ms","delay","React","Component","require","Heart","props","start_date","Date","state","elapse","timerID","setInterval","tick","setup","clearInterval","canvas","refs","heart","getContext","offsetX","clientWidth","offsetY","clientHeight","width","height","globalCompositeOperation","startHeartAnimation","animationTimer","t","pow","getBloom","sqrt","cur","sec","parse","days","hours","mins","secs","setState","ref","App","total","next","operation","copyright","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fe67dcc9.chunk.js","sourcesContent":["function Vector(x, y) {  // 矢量\n\tthis.x = x;\n\tthis.y = y;\n};\n\nVector.prototype = {\n\trotate: function (theta) {\n\t\tvar x = this.x;\n\t\tvar y = this.y;\n\t\tthis.x = Math.cos(theta) * x - Math.sin(theta) * y;\n\t\tthis.y = Math.sin(theta) * x + Math.cos(theta) * y;\n\t\treturn this;\n\t},\n\tmult: function (f) {\n\t\tthis.x *= f;\n\t\tthis.y *= f;\n\t\treturn this;\n\t},\n\tclone: function () {\n\t\treturn new Vector(this.x, this.y);\n\t}\n};\n\nfunction Petal(stretchA, stretchB, startAngle, angle, growFactor, bloom) {  // 花瓣\n\tthis.stretchA = stretchA;\n\tthis.stretchB = stretchB;\n\tthis.startAngle = startAngle;\n\tthis.angle = angle;\n\tthis.bloom = bloom;\n\tthis.growFactor = growFactor;\n\tthis.r = 1;\n\tthis.isfinished = false;\n}\n\nPetal.prototype = {\n\tdraw: function () {\n\t\tvar ctx = this.bloom.garden.ctx;\n\t\tvar v1, v2, v3, v4;\n\t\tv1 = new Vector(0, this.r).rotate(Garden.degrad(this.startAngle));\n\t\tv2 = v1.clone().rotate(Garden.degrad(this.angle));\n\t\tv3 = v1.clone().mult(this.stretchA);\n\t\tv4 = v2.clone().mult(this.stretchB);\n\t\tctx.strokeStyle = this.bloom.c;  // ?\n\t\tctx.beginPath();\n\t\tctx.moveTo(v1.x, v1.y);\n\t\tctx.bezierCurveTo(v3.x, v3.y, v4.x, v4.y, v2.x, v2.y);\n\t\tctx.stroke();\n\t},\n\trender: function () {\n\t\tif (this.r <= this.bloom.r) {\n\t\t\tthis.r += this.growFactor;\n\t\t\tthis.draw();\n\t\t} else {\n\t\t\tthis.isfinished = true;\n\t\t}\n\t}\n}\n\nfunction Bloom(p, r, c, pc, garden) {  // 花\n\tthis.p = p;\n\tthis.r = r;\n\tthis.c = c;\n\tthis.pc = pc;\n\tthis.petals = [];\n\tthis.garden = garden;\n\tthis.init();\n\tthis.garden.addBloom(this);\n};\n\nBloom.prototype = {\n\tdraw: function () {\n\t\tvar p, isfinished = true;\n\t\tthis.garden.ctx.save();\n\t\tthis.garden.ctx.translate(this.p.x, this.p.y);\n\t\tfor (var i = 0; i < this.petals.length; i++) {\n\t\t\tp = this.petals[i];\n\t\t\tp.render();\n\t\t\tisfinished *= p.isfinished;\n\t\t}\n\t\tthis.garden.ctx.restore();\n\t\tif (isfinished === true) {\n\t\t\tthis.garden.removeBloom(this);\n\t\t}\n\t},\n\tinit: function () {\n\t\tvar angle = 360 / this.pc;\n\t\tvar startAngle = Garden.randomInt(0, 90);\n\t\tfor (var i = 0; i < this.pc; i++) {\n\t\t\tthis.petals.push(new Petal(Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max), Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max), startAngle + i * angle, angle, Garden.random(Garden.options.growFactor.min, Garden.options.growFactor.max), this));\n\t\t}\n\t}\n}\n\nvar Garden = function(ctx, element) {\n\tthis.blooms = [];\n\tthis.element = element;\n\tthis.ctx = ctx;\n}\n\nGarden.prototype = {\n\trender: function () {\n\t\tfor(let i = 0; i < this.blooms.length; i++) {\n\t\t\tthis.blooms[i].draw();\n\t\t}\n\t},\n\taddBloom: function (b) {\n\t\tthis.blooms.push(b);\n\t},\n\tremoveBloom: function (b) {\n\t\tlet bloom;\n\t\tfor (let i = 0; i < this.blooms.length; i++) {\n\t\t\tbloom = this.blooms[i];\n\t\t\tif (bloom === b) {\n\t\t\t\tthis.blooms.splice(i, 1);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t},\n\tcreateRandomBloom: function(x, y) { // 创建花朵\n\t\tthis.createBloom(x, y, Garden.randomInt(Garden.options.bloomRadius.min, Garden.options.bloomRadius.max), Garden.randomrgba(Garden.options.color.rmin, Garden.options.color.rmax, Garden.options.color.gmin, Garden.options.color.gmax, Garden.options.color.bmin, Garden.options.color.bmax, Garden.options.color.opacity), Garden.randomInt(Garden.options.petalCount.min, Garden.options.petalCount.max));\n\t},\n\tcreateBloom: function (x, y, r, c, pc) { // x,y,半径，颜色，花盘数量\n\t\tnew Bloom(new Vector(x, y), r, c, pc, this);\n\t}\n}\n\nGarden.options = {\n\tpetalCount: {    // 花盘数量\n\t\tmin: 8,\n\t\tmax: 15\n\t},\n\tpetalStretch: { // 拉伸\n\t\tmin: 0.1,\n\t\tmax: 3\n\t},\n\tgrowFactor: {  // 因素\n\t\tmin: 0.1,\n\t\tmax: 1\n\t},\n\tbloomRadius: {\n\t\tmin: 8,\n\t\tmax: 10\n\t},\n\tgrowSpeed: 1000 / 60,  // 花的生长速度;\n\tcolor: {\n\t\trmin: 128,\n\t\trmax: 255,\n\t\tgmin: 0,\n\t\tgmax: 128,\n\t\tbmin: 0,\n\t\tbmax: 128,\n\t\topacity: 0.1\n\t}\n};\nGarden.random = function (min, max) {\n\treturn Math.random() * (max - min) + min;\n};\nGarden.randomInt = function (min, max) {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n};\nGarden.circle = 2 * Math.PI;\nGarden.degrad = function (angle) {\n\treturn Garden.circle / 360 * angle;\n};\nGarden.raddeg = function (angle) {\n\treturn angle / Garden.circle * 360;\n};\nGarden.rgba = function (r, g, b, a) {\n\treturn 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n};\nGarden.randomrgba = function (rmin, rmax, gmin, gmax, bmin, bmax, a) {\n\tvar r = Math.round(Garden.random(rmin, rmax));\n\tvar g = Math.round(Garden.random(gmin, gmax));\n\tvar b = Math.round(Garden.random(bmin, bmax));\n\treturn Garden.rgba(r, g, b, a);\n}\n\nmodule.exports = Garden;\n","import React from \"react\";\nimport Typing from 'react-typing-animation';\nimport \"./Code.css\";\n\nexport default class Code extends React.Component {\n    render() {\n        const speed = 120;\n        const delay = 300;\n        return (\n            <div id=\"codediv\">\n                <figure class=\"highlight plain\">\n                  <table>\n                    <tr>\n                      <td class=\"gutter\">\n                         <pre>\n                           <div class=\"line\">1</div>\n                           <div class=\"line\">2</div>\n                           <div class=\"line\">3</div>\n                           <div class=\"line\">4</div>\n                           <div class=\"line\">5</div>\n                           <div class=\"line\">6</div>\n                           <div class=\"line\">7</div>\n                           <div class=\"line\">8</div>\n                           <div class=\"line\">9</div>\n                           <div class=\"line\">10</div>\n                           <div class=\"line\">11</div>\n                        </pre>\n                      </td>\n                      <Typing speed={speed}>\n                      <td class=\"code\">\n                        <pre>\n                          <div class=\"line\"><span class=\"quote\">洗手台上并排着的牙刷</span></div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\"><span class=\"quote\">被窝中碰到的脚</span></div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\"><span class=\"quote\">不知何时消失掉的冰箱中的布丁</span></div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\"><span class=\"quote\">先下楼梯，和在你的后面上楼梯...</span></div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\"><span class=\"quote\">恋爱总有一天会变成生活</span></div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\"><span class=\"quote\">生活会变成喜悦</span></div>\n                          <div class=\"line\"></div>\n                          <Typing.Delay ms={delay * 3} />\n                          <div class=\"line\">想了挺久还是没想好写些啥</div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\">发现现在只是想回到和你在一起的日常</div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\">希望武汉这次疫情快点过去</div>\n                          <Typing.Delay ms={delay} />\n                          <div class=\"line\">能够早点见到你 <span class=\"built_in\">♥</span></div>\n                        </pre>\n                      </td>\n                      </Typing>\n                    </tr>\n                  </table>\n                </figure>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport \"./Heart.css\";\nvar Garden = require(\"../logic/garden\");\n\nfunction getBloom(angle, offsetX, offsetY) {\n\t    var t = angle / Math.PI;\n\t    var x = 19.5 * (16 * Math.pow(Math.sin(t), 3));\n\t    var y = - 20 * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));\n\t    return [offsetX + x, offsetY + y];\n    }\n\n\nexport default class Heart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.start_date = new Date(1572577200000);\n        this.state = {\n            elapse: this.elapse()\n        };\n        \n    }\n    componentDidMount() {\n        this.timerID = setInterval(\n            () => this.tick(), \n            1000\n        );\n        this.setup();\n    }\n    componentWillUnmount() {\n        clearInterval(this.timerID);\n    }\n    setup() {\n        var canvas = this.refs.canvas;\n        var heart = this.refs.heart;\n        var ctx = canvas.getContext(\"2d\");\n        let garden = new Garden(ctx, canvas);\n        const offsetX = heart.clientWidth / 2;\n        const offsetY = heart.clientHeight / 2 - 55;\n        canvas.width = heart.clientWidth;\n        canvas.height = heart.clientHeight;\n        ctx.globalCompositeOperation = \"lighter\";\n\n        setInterval(() => garden.render(), Garden.options.growSpeed);\n\n        this.startHeartAnimation(garden, offsetX, offsetY);\n    }\n    startHeartAnimation(garden, offsetX, offsetY) {\n\t    var angle = 10; // 度数\n\t    var heart = [];\n\t    var animationTimer = setInterval(function() {\n\t    \tvar bloom = getBloom(angle, offsetX, offsetY);\n\t    \tvar draw = true;\n\t    \tfor (var i = 0; i < heart.length; i++) {  // 防止首位的颜色过度叠加(具体的还没弄懂)\n\t    \t\tvar p = heart[i];\n\t    \t\tvar distance = Math.sqrt(Math.pow(p[0] - bloom[0], 2) + Math.pow(p[1] - bloom[1], 2));\n\t    \t\tif (distance < Garden.options.bloomRadius.max * 1.3) {\n\t    \t\t\tdraw = false;\n\t    \t\t\tbreak;\n\t    \t\t}\n\t    \t}\n\t    \tif (draw) {\n\t    \t\theart.push(bloom);\n\t    \t\tgarden.createRandomBloom(bloom[0], bloom[1]);   // 根据具体位置创建随机花朵;\n\t    \t}\n\t    \tif (angle >= 30) {\n\t    \t\tclearInterval(animationTimer);\n\t    \t} else {\n\t    \t\tangle += 0.2;\n\t    \t}\n\t    }, 75);\n    }\n    elapse() {\n        var cur = new Date();\n        var sec = (Date.parse(cur) - Date.parse(this.start_date)) / 1000;\n        return {\n            days: Math.floor(sec / (3600 * 24)), \n            hours: Math.floor((sec % (3600 * 24)) / 3600), \n            mins: Math.floor((sec % 3600) / 60), \n            secs: Math.floor(sec % 60) \n        };\n    }\n    tick() {\n        this.setState({\n            elapse: this.elapse()\n        });\n    }\n    render() {\n        return (\n            <div id=\"heart\" ref=\"heart\">\n              <canvas id=\"garden\" ref=\"canvas\"></canvas>\n              <div id=\"words\">\n                <div id=\"messages\">YQ, I have fallen in love with you for\n                  <div id=\"elapse\">\n                    <span class=\"digit\">{this.state.elapse.days}</span><span class=\"dim\">day(s)</span>\n                    <span class=\"digit\">{this.state.elapse.hours}</span><span class=\"dim\">hour(s)</span>\n                    <span class=\"digit\">{this.state.elapse.mins}</span><span class=\"dim\">minute(s)</span>\n                    <span class=\"digit\">{this.state.elapse.secs}</span><span class=\"dim\">second(s)</span>\n                  </div>\n                </div>\n                <div id=\"loveu\">\n                  Love u forever and ever.<br/>\n                  <div class=\"signature\">- PDH</div>\n                </div>\n              </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Code from \"./Code\";\nimport Heart from \"./Heart\";\n\nexport default class App extends React.Component {\n  state = {\n    total: null,\n    next: null,\n    operation: null,\n  };\n\n  render() {\n    const copyright = (\n        <span class=\"copyright-year\"> &copy; 2019 \n          <span class=\"heart\"> <i class=\"iconfont icon-heart\"></i> </span>\n          Mikiya\n        </span>\n    )\n    return (\n      <div id=\"main\">\n        <div id=\"content\">\n          <Code />\n          <Heart />\n        </div>\n        <footer id=\"footer\" class=\"footer\">\n          {copyright}\n        </footer>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./component/App\";\nimport \"./index.css\";\nimport \"github-fork-ribbon-css/gh-fork-ribbon.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}